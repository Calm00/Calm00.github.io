{"meta":{"title":"Honahec","subtitle":"Honahec","description":"","author":"Honahec","url":"http://www.honahec.com","root":"/"},"pages":[{"title":"404","date":"2021-06-25T04:53:26.000Z","updated":"2021-06-25T04:53:44.911Z","comments":true,"path":"404/index.html","permalink":"http://www.honahec.com/404/index.html","excerpt":"","text":""},{"title":"about","date":"2021-09-19T06:52:09.731Z","updated":"2021-09-19T06:52:09.731Z","comments":true,"path":"about/index.html","permalink":"http://www.honahec.com/about/index.html","excerpt":"","text":"Hello å¤§å®¶å¥½å•Šæˆ‘æ˜¯Honahecï¼Œä¸€ä¸ªä¹å¹´çº§è’Ÿè’» ç›®å‰è¿™ä¸ªåšå®¢ä»åœ¨å»ºè®¾ä¸­ï¼Œå¦‚æœæ‚¨æœ‰ä»»ä½•æƒ³æ³•éƒ½å¯ä»¥åœ¨æ­¤ç•™è¨€æˆ–è€…æ·»åŠ æˆ‘çš„QQ(2411482814)ï¼Œä¼šé‡‡çº³éƒ¨åˆ†å»ºè®® ç”±äºå­¦ä¸šä¸ºé‡ï¼Œå›å¤å’Œæ›´æ–°å¯èƒ½ä¸åŠæ—¶ï¼Œè§è°… æˆ‘éƒ½ä¼šäº›ä»€ä¹ˆï¼Ÿæ­£åœ¨æ‰“oiï¼ˆåˆšæ‰“å®Œ2021csp-såˆèµ›ï¼Œåæ ‡SDï¼Œå¾ˆæ…Œ ä¼šä¸€ç‚¹ç‚¹C++ ä¼šä¸€ç‚¹ç‚¹è™šå¹»4 ä¼šä¸€ç‚¹ç‚¹è§†é¢‘åˆ¶ä½œ å¦‚æœæ‚¨ä¹Ÿæœ‰è¿™æ–¹é¢çš„å…´è¶£ï¼Œæ¬¢è¿æ·»åŠ æˆ‘çš„QQè®¨è®º"},{"title":"archives","date":"2021-09-16T11:55:31.000Z","updated":"2021-09-16T11:55:31.397Z","comments":true,"path":"archives/index.html","permalink":"http://www.honahec.com/archives/index.html","excerpt":"","text":""},{"title":"ç•™è¨€æ¿","date":"2021-06-25T15:34:43.000Z","updated":"2021-09-12T06:52:41.044Z","comments":true,"path":"guestbook/index.html","permalink":"http://www.honahec.com/guestbook/index.html","excerpt":"","text":"æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼ æ¬¢è¿åœ¨è¿™é‡Œç•™è¨€ï¼ä»»ä½•é—®é¢˜éƒ½å¯ä»¥åœ¨è¿™é‡Œç•™è¨€ï¼Œæˆ‘ä¼šåŠæ—¶å›å¤çš„ï¼Œæ·»åŠ emailå¯ä»¥è·å¾—æ›´å¿«çš„å›å¤é€Ÿåº¦ã€‚æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©æ·»åŠ æˆ‘çš„QQå¹¶å¤‡æ³¨æ­¤ç½‘ç«™ã€‚"},{"title":"åˆ†ç±»","date":"2021-09-17T13:03:50.000Z","updated":"2021-09-19T06:53:18.505Z","comments":true,"path":"categories/index.html","permalink":"http://www.honahec.com/categories/index.html","excerpt":"","text":""},{"title":"æˆ‘çš„æœ‹å‹ä»¬","date":"2021-09-19T07:10:49.496Z","updated":"2021-09-19T07:10:49.496Z","comments":true,"path":"links/index.html","permalink":"http://www.honahec.com/links/index.html","excerpt":"","text":"æ¬¢è¿å‚è€ƒä¸‹æ–¹æ ¼å¼åœ¨ç•™è¨€åŒºäº’æ¢å‹é“¾å“¦~ æœ¬ç«™åœ°å€ï¼šhttps://honahec.com å¤´åƒï¼šhttps://cdn.jsdelivr.net/gh/Calm00/PicGo/img/avatar.jpg æ ‡é¢˜ï¼šHonahecçš„åšå®¢ name: Honahec&#39;s blog link: https:&#x2F;&#x2F;honahec.com avatar: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;Calm00&#x2F;PicGo&#x2F;img&#x2F;avatar.jpg"},{"title":"æ ‡ç­¾","date":"2021-09-17T13:03:56.000Z","updated":"2021-09-19T06:53:31.533Z","comments":true,"path":"tags/index.html","permalink":"http://www.honahec.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"csp2021","slug":"csp2021","date":"2021-09-19T11:23:26.000Z","updated":"2021-09-19T11:56:36.967Z","comments":true,"path":"csp2021/","link":"","permalink":"http://www.honahec.com/csp2021/","excerpt":"","text":"day -3å¿«åˆèµ›äº† åˆ·å®Œè¿™ä¸ªNOIP2016å°±éƒ½åˆ·å®Œäº† 83.5è¿˜è¡Œ ï¼ˆæ„Ÿè§‰å……æ»¡äº†ä¿¡å¿ƒï¼‰ day -1æ˜å¤©å°±è¦åˆèµ›äº† å¤§åŠå¤œçš„æˆ‘ä»åœ¨å¿«ä¹åœ°åˆ·è§†é¢‘qwq day 0ï¼ˆæ—©ä¸Šçš„æˆ‘æ­¤åˆ»è¿˜æ²¡æœ‰æ„è¯†åˆ°äº‹æƒ…çš„ä¸¥é‡æ€§ï¼‰ è¿™é¢˜æ€ä¹ˆä¸€å¹´æ¯”ä¸€å¹´é˜´é—´ ä»€ä¹ˆbase64ç¼–ç ï¼Œç¬›å¡å°”æ ‘+Euleråºåˆ—æRMQ æœ€åä¸€é¢˜è¿˜121è¡Œ å®Œå…¨ä¸ä¼šå‘œå‘œå‘œ åˆåˆ†56.5ï¼Œåæ ‡SDï¼Œå¾ˆæ…Œ å¦‚æœèƒ½è¿‡ä¼šç»§ç»­åœ¨è¿™ç¯‡åšå®¢æ›´æ–°å¤èµ›","categories":[{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://www.honahec.com/categories/%E6%AF%94%E8%B5%9B/"}],"tags":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://www.honahec.com/tags/%E6%B8%B8%E8%AE%B0/"}]},{"title":"ACSLæ¸¸è®°","slug":"acsl-you-ji","date":"2021-09-14T11:24:25.000Z","updated":"2021-09-17T12:45:11.477Z","comments":true,"path":"acsl-you-ji/","link":"","permalink":"http://www.honahec.com/acsl-you-ji/","excerpt":"","text":"å‰ä¸ä¹…(å…¶å®ä¹Ÿæ²¡æœ‰ä¸ä¹…å•¦æœ¬è’Ÿè’»å»å‚åŠ äº†ACSL Day -5å› ä¸ºæ²¡æœ‰é˜Ÿå‹ï¼ŒASDANç»™æˆ‘éšæœºåŒ¹é…åˆ°äº†ä¸€ä½å¤§ä½¬qwq ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯è‡ªåˆ¶æ¸¸æˆå¹¶å½•åˆ¶vlogï¼ï¼Ÿï¼Ÿæˆ‘ç›´æ¥äººå‚»äº†ï¼Œå¹¸å¥½å¤§ä½¬æ›¾ç»è‡ªå·±åšè¿‡ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±å¾ˆéšæ„åœ°ç›´æ¥ä½¿ç”¨äº†é‚£ä¸ªæ¸¸æˆï¼Œç„¶åå¾ˆéšæ„åœ°åˆ¶ä½œäº†ä¸€ä¸ªvlog ä¸»è¦æ˜¯5å¤©ä¹Ÿåšä¸äº†æ¸¸æˆå•Šï¼ˆå¯èƒ½æ˜¯æˆ‘å¤ªèœäº† æ¸¸æˆæºç  vlogï¼š Day 0è¿™æ¯”èµ›ä¸ºä»€ä¹ˆè¦æ‰“ä¸€å¤©ï¼ï¼Ÿï¼Ÿ ä¸Šåˆé€‰æ‹©é¢˜ç›´æ¥è¢«lispæ‰“è’™äº†ï¼ˆæ˜æ˜å¤ä¹ è¿‡äº†ï¼Œä½†æœ‰äº›æ ¹æœ¬ç™¾åº¦ä¸åˆ°å‘œå‘œå‘œ å–œæ15/20 ä¸‹åˆå¤§æ¦‚çœ‹äº†ä¸€çœ¼é¢˜ç›®ï¼šå°±è¿™ï¼Ÿï¼Ÿ ä¸å¾—ä¸è¯´ï¼Œæ˜¯çœŸçš„æ°´ t2æˆ‘ç›´æ¥20åˆ†é’Ÿåˆ‡æ‰ ä¸ºä»€ä¹ˆå…ˆè¯´t2å‘¢ å› ä¸ºt1æœ‰4ä¸ªç‚¹å°±æ˜¯è°ƒä¸å¯¹ï¼Œè¿™å°±æ˜¯ä¸ä¼šæ‰“å¯¹æ‹çš„ç—›è‹¦å—qwq å–œæ16/20 Day 1æ„Ÿè§‰è‡ªå·±ä¸€åˆ°æœ€åå°±æ€»æ˜¯å‡ºä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œå”‰ cspå†²å†²å†²ï¼ï¼ï¼","categories":[{"name":"éšä¾¿è¯´è¯´","slug":"éšä¾¿è¯´è¯´","permalink":"http://www.honahec.com/categories/%E9%9A%8F%E4%BE%BF%E8%AF%B4%E8%AF%B4/"}],"tags":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://www.honahec.com/tags/%E6%B8%B8%E8%AE%B0/"}]},{"title":"åšå®¢ç»´æŠ¤åŠ¨æ€","slug":"update","date":"2021-09-05T08:43:27.000Z","updated":"2021-09-19T07:10:04.300Z","comments":true,"path":"update/","link":"","permalink":"http://www.honahec.com/update/","excerpt":"","text":"update 2021.9.5æ•°å­¦å…¬å¼å·²ç»ç»´æŠ¤å®Œæ¯•ï¼ï¼ï¼ï¼ˆèµ·ç ç›®å‰çœ‹æ¥æ˜¯è¿™æ ·çš„ update 2021.9.12ä»Šå¤©çæäº†ä¸€ä¸‹ï¼Œä¼˜åŒ–äº†ä½“éªŒï¼ˆä½†ä¸ºä»€ä¹ˆä¸èƒ½é¡µå†…è·³è½¬äº†qwqï¼Œæˆ‘è¿˜æ²¡å¤‡ä»½â€¦çææœ‰é£é™©ï¼Œè®°å¾—å¤‡ä»½å‘œå‘œå‘œ update 2021.9.19æ›´æ¢ä¸»é¢˜ä¸ºVolantis æ·»åŠ å‹é“¾é¡µé¢ï¼ˆæ¬¢è¿äº’æ¢ï¼‰ æ·»åŠ abouté¡µé¢ æ·»åŠ å¼€å¾€","categories":[{"name":"éšä¾¿è¯´è¯´","slug":"éšä¾¿è¯´è¯´","permalink":"http://www.honahec.com/categories/%E9%9A%8F%E4%BE%BF%E8%AF%B4%E8%AF%B4/"}],"tags":[{"name":"æ‘¸é±¼","slug":"æ‘¸é±¼","permalink":"http://www.honahec.com/tags/%E6%91%B8%E9%B1%BC/"}]},{"title":"æ–œç‡ä¼˜åŒ–dp","slug":"xie-lv-you-hua-dp","date":"2021-06-25T13:53:49.000Z","updated":"2021-09-17T12:45:11.490Z","comments":true,"path":"xie-lv-you-hua-dp/","link":"","permalink":"http://www.honahec.com/xie-lv-you-hua-dp/","excerpt":"","text":"æ–œç‡ä¼˜åŒ– $ dp $å‰ç½®çŸ¥è¯† åç§° å®šä¹‰ å‡¸å¤šè¾¹å½¢ æ‰€æœ‰å†…è§’éƒ½åœ¨ $ (0Â°,180Â°) $ çš„ç®€å•å¤šè¾¹å½¢ å‡¸åŒ… åœ¨å¹³é¢ä¸Šèƒ½åŒ…å«æ‰€æœ‰ç»™å®šç‚¹çš„æœ€å°å‡¸å¤šè¾¹å½¢å«åšå‡¸åŒ…ã€‚ ä¸Šå‡¸åŒ… å‡¸åŒ…ä¸­æ¨ªåæ ‡æœ€å°çš„ç‚¹åˆ°æ¨ªåæ ‡æœ€å¤§çš„ç‚¹çš„ä¸ŠåŠéƒ¨åˆ† ä¸‹å‡¸åŒ… å‡¸åŒ…ä¸­æ¨ªåæ ‡æœ€å°çš„ç‚¹åˆ°æ¨ªåæ ‡æœ€å¤§çš„ç‚¹çš„ä¸‹åŠéƒ¨åˆ† å¦‚ä¸‹å›¾ï¼Œè“è‰²éƒ¨åˆ†æ˜¯ä¸Šå‡¸åŒ…ï¼Œæ©™è‰²éƒ¨åˆ†æ˜¯ä¸‹å‡¸åŒ… è®©æˆ‘ä»¬é€šè¿‡ä¾‹é¢˜æ¥å­¦ä¹ æ–œç‡ä¼˜åŒ– $ dp $ ä¾‹é¢˜[HNOI2008] ç©å…·è£…ç®±é¢˜ç›®æè¿°P æ•™æˆè¦å»çœ‹å¥¥è¿ï¼Œä½†æ˜¯ä»–èˆä¸ä¸‹ä»–çš„ç©å…·ï¼Œäºæ˜¯ä»–å†³å®šæŠŠæ‰€æœ‰çš„ç©å…·è¿åˆ°åŒ—äº¬ã€‚ä»–ä½¿ç”¨è‡ªå·±çš„å‹ç¼©å™¨è¿›è¡Œå‹ç¼©ï¼Œå…¶å¯ä»¥å°†ä»»æ„ç‰©å“å˜æˆä¸€å †ï¼Œå†æ”¾åˆ°ä¸€ç§ç‰¹æ®Šçš„ä¸€ç»´å®¹å™¨ä¸­ã€‚ P æ•™æˆæœ‰ç¼–å·ä¸º $ 1 \\cdots n $ çš„ $ n $ ä»¶ç©å…·ï¼Œç¬¬ä»¶ç©å…·ç»è¿‡å‹ç¼©åçš„ä¸€ç»´é•¿åº¦ä¸º $ C_i $ ã€‚ ä¸ºäº†æ–¹ä¾¿æ•´ç†ï¼ŒPæ•™æˆè¦æ±‚ï¼š åœ¨ä¸€ä¸ªä¸€ç»´å®¹å™¨ä¸­çš„ç©å…·ç¼–å·æ˜¯è¿ç»­çš„ã€‚ åŒæ—¶å¦‚æœä¸€ä¸ªä¸€ç»´å®¹å™¨ä¸­æœ‰å¤šä¸ªç©å…·ï¼Œé‚£ä¹ˆä¸¤ä»¶ç©å…·ä¹‹é—´è¦åŠ å…¥ä¸€ä¸ªå•ä½é•¿åº¦çš„å¡«å……ç‰©ã€‚å½¢å¼åœ°è¯´ï¼Œå¦‚æœå°†ç¬¬ $ i $ ä»¶ç©å…·åˆ°ç¬¬ $ j $ ä¸ªç©å…·æ”¾åˆ°ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œé‚£ä¹ˆå®¹å™¨çš„é•¿åº¦å°†ä¸º $ x=j-i+\\sum_{k=i}^{j}C_k $ ã€‚ åˆ¶ä½œå®¹å™¨çš„è´¹ç”¨ä¸å®¹å™¨çš„é•¿åº¦æœ‰å…³ï¼Œæ ¹æ®æ•™æˆç ”ç©¶ï¼Œå¦‚æœå®¹å™¨é•¿åº¦ä¸º $ x $ ï¼Œå…¶åˆ¶ä½œè´¹ç”¨ä¸º $ (x-L)^2 $ ã€‚å…¶ä¸­ $ L $ æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚P æ•™æˆä¸å…³å¿ƒå®¹å™¨çš„æ•°ç›®ï¼Œä»–å¯ä»¥åˆ¶ä½œå‡ºä»»æ„é•¿åº¦çš„å®¹å™¨ï¼Œç”šè‡³è¶…è¿‡ $ L $ ã€‚ä½†ä»–å¸Œæœ›æ‰€æœ‰å®¹å™¨çš„æ€»è´¹ç”¨æœ€å°ã€‚ è¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•°ï¼Œç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«ä»£è¡¨ $ n $ å’Œ $ L $ ã€‚ ç¬¬ $ 2 $ åˆ° ç¬¬ $ (n+1) $ è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œç¬¬ $ (i+1) $ è¡Œçš„æ•´æ•°ä»£è¡¨ç¬¬ $ i $ ä»¶ç©å…·çš„é•¿åº¦ $ C_i $ ã€‚ è¾“å‡ºæ ¼å¼è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ‰€æœ‰å®¹å™¨çš„æ€»è´¹ç”¨æœ€å°æ˜¯å¤šå°‘ã€‚ æ•°æ®èŒƒå›´å¯¹äºå…¨éƒ¨çš„æµ‹è¯•ç‚¹ï¼Œ $ 1 \\leq n \\leq 5 \\times 10^4,1 \\leq L \\leq 10^7,1 \\leq C_i \\leq 10^7 $ åŸºæœ¬ $ dp $ æ€è·¯è®¾ $ F_i $ ä¸ºè£…å‰ $ i $ ä¸ªç©å…·çš„æœ€å°è´¹ç”¨ï¼Œåˆ™ $ F_i=min_{0\\leq j&lt;i}(F_j+(i-j-1-L+\\sum^{i}_{k=j+1}C_k)^2) $ å…¶ä¸­ $ \\sum^{i}_{k = j+1} C_k $ å¯ä»¥ç”¨å‰ç¼€å’Œä¼˜åŒ–æ‰ï¼Œå˜æˆ $ F_i = min_{0 \\leq j&lt;i}(F_j+(i-j-1-L+sum_i-sum_j)^2) $ éå¸¸å¥½å•Šï¼Œ $ O(n^2) $ ï¼Œ0åˆ†åˆ°æ‰‹ æ€ä¹ˆåŠå‘¢ï¼Ÿ å¤„ç†ä¸€ä¸‹è¿™ä¸ª $ dp $ æ–¹ç¨‹å¥½åƒä¸å¤ªå¥½å¤„ç† é¦–å…ˆæˆ‘ä»¬ä¸çœ‹è¿™ä¸ª $ min $ ï¼Œåªçœ‹ $ F_i=F_j+(i-j-1-L+sum_i-sum_j )^2 $ \\begin{align} ä»¤A=i+sum_iï¼ŒB&=j+sum_jï¼ŒC=L+1\\\\ F_j+(A-B-C)^2&=F_j+A^2+(B+C)^2-2A(B+C)\\\\ F_i+2A(B+C)&=F_j+A^2+(B+C)^2\\\\ ä»¤x=B+Cï¼Œy=F_j&+(B+C)^2ï¼Œk=2Aï¼Œb=F_i-A^2\\\\ y&=kx+b \\end{align}æƒ³åˆ°äº†ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬è¦æœ€å°åŒ– $ F_i $ ï¼Œé‚£ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦æœ€å°åŒ– $ b $ å¯¹äºæ¯ä¸€ä¸ªç¡®å®šçš„ $ i $ ï¼Œ $ k $ éƒ½æ˜¯ç¡®å®šçš„ é—®é¢˜è½¬åŒ–æˆäº†æ±‚è¿‡ $ (B+C, F_j+(B+C)^2) $ ä¸­ä»»æ„ä¸€ç‚¹ä¸”æ–œç‡ä¸ºkçš„ç›´çº¿æˆªè·çš„æœ€å°å€¼ã€‚ è¡¥å……çŸ¥è¯†å¦‚æœä½ åªæƒ³çŸ¥é“æ–œç‡ä¼˜åŒ–æ€ä¹ˆç”¨ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç‚¹æ­¤è·³è¿‡è¿™éƒ¨åˆ†ã€‚ æˆ‘ä»¬æ˜“å¯è¯æˆªè·çš„æœ€å°å€¼ä¸€å®šå–åœ¨ä¸‹å‡¸åŒ…ä¸Š è¯æ˜ï¼šå‡å¦‚æˆªè·çš„æœ€å°å€¼å–åœ¨éä¸‹å‡¸åŒ…ä¸Šçš„ä¸€ä¸ªç‚¹ $ (x_0,y_0 ) $ ï¼Œåˆ™æœ‰ä¸¤ç§æƒ…å†µï¼š ï¼ˆä¸€ï¼‰ ä¸‹å‡¸åŒ…ä¸Šæœ‰ä¸€ä¸ªç‚¹ $ (x_0,y_1) $ æ‰€ä»¥è¿‡ $ (x_0,y_0) $ çš„ç›´çº¿çš„è§£æå¼ä¸º $ y=kx+y_0-kx_0 $ ï¼Œè¿‡ $ (x_0,y_1) $ çš„ç›´çº¿çš„è§£æå¼ä¸º $ y=kx+y_1-kx_0 $ æ ¹æ®ä¸‹å‡¸åŒ…çš„å®šä¹‰å¯å¾— $ y_0&gt;y_1 $ ï¼Œæ•… $ y_0-kx_0&gt;y_1-kx_1 $ ï¼ŒçŸ›ç›¾ ï¼ˆäºŒï¼‰ ä¸‹å‡¸åŒ…ä¸Šæ²¡æœ‰å’Œå…¶æ¨ªåæ ‡ç›¸åŒçš„ç‚¹ æ ¹æ®ä¸‹å‡¸åŒ…çš„å®šä¹‰ï¼Œå¯å¾—ä¸‹å‡¸åŒ…ä¸Šä¸€å®šå­˜åœ¨ä¸¤ä¸ªç‚¹ $ (x_1,y_1) $ , $ (x_2,y_2) $ ä½¿å¾— $ x_1&lt;x_0&lt;x_2 $ ä¸” $ x_0\\frac{y_1-y_2}{x_1-x_2}+\\frac{x_1 y_2-x_2 y_1}{x_1-x_2}&lt;y_0 $ æˆ‘ä»¬åœ¨ç»è¿‡ $ (x_1,y_1) $ , $ (x_2,y_2) $ çš„ç›´çº¿ä¸Šå–ä¸€ç‚¹ $ (x_0,x_0\\frac{y_1-y_2}{x_1-x_2}+\\frac{x_1 y_2-x_2 y_1}{x_1-xx_2}) $ è¿‡ $ (x_0,y_0) $ çš„ç›´çº¿è§£æå¼ä¸º $ y=kx+y_0-kx_0 $ è¿‡ $ (x_0,x_0\\frac{y_1-y_2}{x_1-x_2}+\\frac{x_1 y_2-x_2 y_1}{x_1-x_2}) $ çš„ä¸º $ y=kx+x_0\\frac{y_1-y_2}{x_1-x_2}+\\frac{x_1 y_2-x_2 y_1}{x_1-x_2}-kx_0 $ è¿‡ $ (x_1,y_1) $ çš„ä¸º $ y=kx+y_1-kx_1 $ è¿‡ $ (x_2,y_2) $ çš„ä¸º $ y=kx+y_2-kx_2 $ ç”±ï¼ˆä¸€ï¼‰å¯å¾— $ y_0-kx_0&gt;x_0\\frac{y_1-y_2}{x_1-x_2}+\\frac{x_1 y_2-x_2 y_1}{x_1-x_2}-kx_0 $ \\begin{align} &k>\\frac{y_1-y_2}{x_1-x_2}\\\\ &(x_0\\frac{y_1-y_2}{x_1-x_2}+\\frac{x_1 y_2-x_2 y_1}{x_1-x_2 }-kx_0)-(y_1-kx_1 )\\\\ &=\\frac{x_0 y_1-x_0 y_2+x_1 y_2-x_1 y_1}{x_1-x_2}-k(x_1-x_0)\\\\ &=\\frac{(x_0-x_1)(y_1-y_2)}{x_1-x_2}-k(x_0-x_1)\\\\ &>\\frac{(x_0-x_1 )(y_1-y_2)}{x_1-x_2}-\\frac{(x_0-x_1)(y_1-y_2 )}{x_1-x_2}\\\\ &=0 \\end{align} \\begin{align} &k\\leq\\frac{y_1-y_2}{x_1-x_2}\\\\ &(ğ‘¥_0\\frac{ğ‘¦_1âˆ’ğ‘¦_2}{ğ‘¥_1âˆ’ğ‘¥_2}+\\frac{ğ‘¥_1 ğ‘¦_2âˆ’ğ‘¥_2 ğ‘¦_1}{ğ‘¥_1âˆ’ğ‘¥_2}âˆ’ğ‘˜ğ‘¥_0 )âˆ’(ğ‘¦_2âˆ’ğ‘˜ğ‘¥_2 )\\\\ &=\\frac{ğ‘¥_0 ğ‘¦_1âˆ’ğ‘¥_0 ğ‘¦_2+ğ‘¥_2 ğ‘¦_2âˆ’ğ‘¥_2 ğ‘¦_1}{ğ‘¥_1âˆ’ğ‘¥_2}âˆ’ğ‘˜(ğ‘¥_2âˆ’ğ‘¥_0)\\\\ &=\\frac{(ğ‘¥_0âˆ’ğ‘¥_2 )(ğ‘¦_1âˆ’ğ‘¦_2 )}{ğ‘¥_1âˆ’ğ‘¥_2}âˆ’ğ‘˜(ğ‘¥_0âˆ’ğ‘¥_2 )\\\\ &â‰¥\\frac{(ğ‘¥_0âˆ’ğ‘¥_2 )(ğ‘¦_1âˆ’ğ‘¦_2 )}{ğ‘¥_1âˆ’ğ‘¥_2}âˆ’\\frac{(ğ‘¥_0âˆ’ğ‘¥_2 )(ğ‘¦_1âˆ’ğ‘¦_2 )}{ğ‘¥_1âˆ’ğ‘¥_2}\\\\ &=0 \\end{align} ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨ $ y_1-kx_1 $ å’Œ $ y_2-kx_2 $ ä¸­ä¸€å®šå­˜åœ¨ä¸€ä¸ªæ•°å°äºæˆ–ç­‰äº $ x_0\\frac{y_1-y_2}{x_1-x_2}+\\frac{x_1 y_2-x_2 y_1}{x_1-x_2}-kx_0 $ ï¼Œåˆå› ä¸º $ y_0-kx_0&gt;x_0\\frac{y_1-y_2}{x_1-x_2}+\\frac{x_1 y_2-x_2 y_1}{x_1-x_2}-kx_0 $ ï¼Œæ‰€ä»¥åœ¨ $ y_1-kx_1 $ å’Œ $ y_2-kx_2 $ ä¸­ä¸€å®šå­˜åœ¨ä¸€ä¸ªæ•°å°äº $ y_0-kx_0 $ ï¼ŒçŸ›ç›¾ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œæ­¤æˆªè·çš„æœ€å°å€¼ä¸€å®šå–åœ¨ä¸‹å‡¸åŒ…ä¸Šã€‚ è¯æ¯•ã€‚ å›å½’æ­£é¢˜ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†æœ€ä¼˜å†³ç­–ç‚¹ä¸€å®šåœ¨ä¸‹å‡¸åŒ…ä¸Š é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ‰¾æœ€ä¼˜å†³ç­–ç‚¹å‘¢ï¼Ÿ é¦–å…ˆæˆ‘ä»¬æ˜“å¾—ä¸‹å‡¸åŒ…ä¸­æ‰€æœ‰çº¿çš„æ–œç‡ä¸€å®šæ˜¯å•è°ƒé€’å¢çš„ å¦‚æœå­˜åœ¨ä¸‰ä¸ªä¸‹å‡¸åŒ…ä¸­çš„ç‚¹ $ (x_1,y_1 ) $ ï¼Œ $ (x_2,y_2 ) $ ï¼Œ $ (x_3,y_3 ) $ ä½¿å¾— $ x_1 &lt; x_2 &lt; x_3 $ ä¸” $ \\frac{y_2-y_1}{x_2-x_1} &gt; \\frac{y_3-y_2}{x_3-x_2} $ ï¼Œåˆ™ $ y_2 - \\frac{y_3-y_1}{x_3-x_1} x_2 - \\frac{x_3 y_1-x_1 y_3}{x_3-x_1} = \\frac{-x_1 y_2+x_1 y_3+x_2 y_1-x_2 y_3-x_3 y_1+x_3 y_2}{x_3-x_1} $ åˆå› ä¸º $ x_1 &lt; x_2 &lt; x_3 $ ï¼Œæ‰€ä»¥ $ x_2-x_1 &gt; 0 $ ï¼Œ $ x_3-x_2 &gt; 0 $ ï¼Œ $ x_3-x_1 &gt; 0 $ æ•… $ (y_2-y_1 )(x_3-x_2 )&gt;(y_3-y_2 )(x_2-x_1 ) $ ï¼Œå³ $ x_2 y_1-x_3 y_1+x_3 y_2&gt;x_1 y_2-x_1 y_3+x_2 y_3 $ æ‰€ä»¥ $ \\frac{-x_1 y_2+x_1 y_3+x_2 y_1-x_2 y_3-x_3 y_1+x_3 y_2}{x_3-x_1}&gt;0 $ ï¼Œæ•… $ y_2&gt;\\frac{y_3-y_1}{x_3-x_1} x_2+\\frac{x_3 y_1-x_1 y_3}{x_3-x_1} $ ï¼Œæ‰€ä»¥ $ (x_2,y_2 ) $ ä¸€å®šä¸åœ¨ä¸‹å‡¸åŒ…å†…ã€‚ æ€è·¯å¾ˆæ¸…æ™°äº†å§ï¼Ÿ ç®€ç®€å•å•çš„ä»£ç #include&lt;cstdio&gt; using namespace std; const int N &#x3D; 5e4 + 5; int n, L, C, Qt[N], h &#x3D; 1, t; ll sum[N], f[N], Qx[N], Qy[N]; il ll sq(ll x) &#123;return x * x;&#125; il double sl(ll x1, ll y1, ll x2, ll y2) &#123;return (double) (y1 - y2) &#x2F; (x1 - x2);&#125; int main() &#123; scanf(&quot;%d%d%d&quot;, &amp;n, &amp;L, &amp;C); sum[1] &#x3D; C; f[1] &#x3D; sq(C - L); Qt[++t] &#x3D; 0; Qx[t] &#x3D; L + 1; Qy[t] &#x3D; sq(Qx[t]); Qt[++t] &#x3D; 1; Qx[t] &#x3D; L + 2 + C; Qy[t] &#x3D; f[1] + sq(Qx[t]); for(int i &#x3D; 2; i &lt;&#x3D; n; ++i) &#123; scanf(&quot;%d&quot;, &amp;C); sum[i] &#x3D; sum[i - 1] + C; double slope &#x3D; (i + sum[i]) &lt;&lt; 1; while(h &lt; t &amp;&amp; sl(Qx[h], Qy[h], Qx[h + 1], Qy[h + 1]) &lt; slope) ++h; f[i] &#x3D; f[Qt[h]] + sq(i - Qt[h] - 1 + sum[i] - sum[Qt[h]] - L); ll X &#x3D; i + sum[i] + L + 1, Y &#x3D; f[i] + sq(X); while(h &lt; t &amp;&amp; sl(Qx[t], Qy[t], Qx[t - 1], Qy[t - 1]) &gt;&#x3D; sl(Qx[t], Qy[t], X, Y)) --t; Qt[++t] &#x3D; i; Qx[t] &#x3D; X, Qy[t] &#x3D; Y; &#125; printf(&quot;%lld\\n&quot;, f[n]); return 0; &#125; é—®é¢˜æ¥äº†è‹¥ $ C_k $ å¯ä»¥å°äº0å‘¢ï¼Ÿåˆè¯¥æ€ä¹ˆåšï¼Ÿ è¿™ä¸ªæˆ‘ä»¬ä¸€çœ¼å°±èƒ½çœ‹ç©¿è¿™ç©æ„ä¸æ»¡è¶³å•è°ƒæ€§ã€‚ å‡å¦‚è¯´è€ƒè¯•çš„æ—¶å€™ä½ ä¸ä¼šè¯æ–œç‡çš„ç‚¹æˆ–è€…å†³ç­–æœ‰/æ²¡æœ‰å•è°ƒæ€§æ€ä¹ˆåŠï¼Ÿ æœ‰ä¸¤ç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ˜¯æ‰“è¡¨ï¼Œå¤šæ‰“å‡ ç»„ã€‚ ç¬¬äºŒç§æ˜¯ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ç›´æ¥ä¸Šä¸æ»¡è¶³å•è°ƒæ€§æ—¶çš„åšæ³•ã€‚åæ­£æ»¡è¶³å•è°ƒæ€§çš„æ—¶å€™ä¸æ»¡è¶³å•è°ƒæ€§æ—¶çš„åšæ³•ä¹Ÿèƒ½ç”¨ã€‚ ä¸æ»¡è¶³å•è°ƒæ€§çš„åšæ³•ï¼š åˆ†æ²»æˆ‘ä»¬ç”¨ $ dc(l, r) $ è¡¨ç¤ºè®¡ç®— $ [l, r] $ ä¸­çš„ $ dp_i $ ã€‚ å¯¹äºå·¦åŠè¾¹ï¼Œæˆ‘ä»¬å…ˆç”¨ $ dc(l, mid) $ ç®—å‡º $ [l, mid] $ ä¸­çš„ $ dp_i $ ã€‚ç„¶åæˆ‘ä»¬å°±çŸ¥é“äº†æ‰€æœ‰çš„å†³ç­–ç‚¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥å»ºå‡¸åŒ…ã€‚ç„¶åæˆ‘ä»¬ç”¨è¿™ä¸ªå‡¸åŒ…å»æ›´æ–° $ [mid, r] $ ä¸­çš„ $ dp_i $ ã€‚è¿™æ—¶çš„å‡¸åŒ…æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠ $ [mid, r] $ çš„æŸ¥è¯¢æ–œç‡æ’åºï¼Œç„¶åç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å‡¸åŒ…ä¸ŠäºŒåˆ†ã€‚ å¯¹äº $ [mid, r] $ ä¸­çš„æ¯ä¸ª $ dp_i $ ï¼Œå¦‚æœå®ƒçš„æœ€ä¼˜å†³ç­–ç‚¹åœ¨ $ [1, mid] $ ï¼Œåˆ™ä¸Šä¸€æ­¥å·²ç»æ›´æ–°å®Œï¼Œå¦‚æœå®ƒçš„æœ€ä¼˜å†³ç­–ç‚¹ä¸åœ¨ $ [l, mid] $ æˆ‘ä»¬ä¹Ÿä¸éœ€è¦ $ [l, mid] $ çš„å‡¸åŒ…ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠå·¦è¾¹çš„å‡¸åŒ…æŠ›æ‰ï¼Œç”¨ $ dc(mid + 1, r) $ è®¡ç®—ä¹‹åçš„ $ dp_i $ ã€‚ $ T(n)=2T(\\frac{n}{2})+O(n\\log n))=O(n\\log^2n) $ ä»£ç #include &lt;vector&gt; #include &lt;stdio.h&gt; #include &lt;string.h&gt; #include &lt;algorithm&gt; int n, h[100005], w[100005], pre[100005]; long long dp[100005], sum[100005]; struct Point &#123; long long x, y; int id; Point(long long _x, long long _y, int _id): x(_x), y(_y), id(_id) &#123;&#125; double operator&#x2F; (const Point &amp;p) const &#123; return (double) (y - p.y) &#x2F; (x - p.x); &#125; &#125;; long long min(long long a, long long b) &#123; return a &lt; b ? a : b; &#125; void cdq(int l, int r) &#123; while (l !&#x3D; r) &#123; std::vector&lt;Point&gt; Q, temp; int mid &#x3D; (l + r) &gt;&gt; 1; cdq(l, mid); for (int i &#x3D; l; i &lt;&#x3D; mid; ++i) temp.push_back(Point(h[i], dp[i] + (long long) h[i] * h[i] - sum[i], i)); std::sort(temp.begin(), temp.end(), [] (const Point &amp;p1, const Point &amp;p2) &#123; return p1.x &#x3D;&#x3D; p2.x ? p1.y &lt; p2.y : p1.x &lt; p2.x; &#125;); Q.push_back(temp[0]); int _size &#x3D; 0; for (int i &#x3D; 1; i &lt; (int) temp.size(); ++i) &#123; if (Q[_size].x &#x3D;&#x3D; temp[i].x) continue; while (_size &amp;&amp; Q[_size] &#x2F; Q[_size - 1] &gt; Q[_size] &#x2F; temp[i]) Q.pop_back(), --_size; Q.push_back(temp[i]); ++_size; &#125; for (int i &#x3D; r; i &gt; mid; --i) &#123; int l &#x3D; 1, r &#x3D; Q.size() - 1, sl &#x3D; h[i] &lt;&lt; 1; while (l &lt;&#x3D; r) &#123; int mid &#x3D; (l + r) &gt;&gt; 1; if (Q[mid] &#x2F; Q[mid - 1] &gt; sl) r &#x3D; mid - 1; else l &#x3D; mid + 1; &#125; int k &#x3D; Q[r].id; dp[i] &#x3D; min(dp[i], dp[k] + (long long) (h[i] - h[k]) * (h[i] - h[k]) + sum[i - 1] - sum[k]); &#125; l &#x3D; mid + 1; &#125; &#125; int main() &#123; scanf(&quot;%d&quot;, &amp;n); for (int i &#x3D; 1; i &lt;&#x3D; n; ++i) scanf(&quot;%d&quot;, h + i); for (int i &#x3D; 1; i &lt;&#x3D; n; ++i) scanf(&quot;%d&quot;, w + i), sum[i] &#x3D; sum[i - 1] + w[i]; memset(dp, 0x3f, sizeof dp); dp[1] &#x3D; 0; cdq(1, n); printf(&quot;%lld\\n&quot;, dp[n]); return 0; &#125; å¹³è¡¡æ ‘æ€è·¯å¾ˆç®€æ´ï¼Œä¸€è¯´å°±æ‡‚ï¼Œä¸€å†™å°±åºŸ ä»£ç #include &lt;stdio.h&gt; #include &lt;string.h&gt; inline unsigned rand() &#123; static unsigned seed &#x3D; 19260817; return (seed &#x3D; seed * 1279u + 10001279u) ^&#x3D; (seed &gt;&gt; 7); &#125; struct Point &#123; long long x, y; int id; Point(long long _x, long long _y, int _id): x(_x), y(_y), id(_id) &#123;&#125; Point() &#123;&#125; double operator&#x2F; (const Point &amp;p) const &#123; return (double) (y - p.y) &#x2F; (x - p.x); &#125; &#125;; struct Treap &#123; struct node &#123; int ls, rs, size; Point p; double lp, rp; unsigned key; &#125; tr[100005]; int cnt, root; inline int new_node(const Point &amp;p) &#123; tr[++cnt].p &#x3D; p; tr[cnt].key &#x3D; rand(); tr[cnt].size &#x3D; 1; return cnt; &#125; inline void push_up(int k) &#123; if (k) tr[k].size &#x3D; tr[tr[k].ls].size + tr[tr[k].rs].size + 1; &#125; void rotate_left(int &amp;k) &#123; int old_k &#x3D; k; k &#x3D; tr[k].rs; tr[old_k].rs &#x3D; tr[k].ls; tr[k].ls &#x3D; old_k; push_up(old_k); push_up(k); &#125; void rotate_right(int &amp;k) &#123; int old_k &#x3D; k; k &#x3D; tr[k].ls; tr[old_k].ls &#x3D; tr[k].rs; tr[k].rs &#x3D; old_k; push_up(old_k); push_up(k); &#125; int insert(int &amp;k, const Point &amp;v) &#123; int tmp; if (!k) &#123; return k &#x3D; new_node(v); &#125; if (v.x &lt; tr[k].p.x) &#123; if (tmp &#x3D; insert(tr[k].ls, v)) &#123; if (tr[k].key &gt; tr[tr[k].ls].key) rotate_right(k); push_up(k); return tmp; &#125; else return 0; &#125; else if (v.x &gt; tr[k].p.x) &#123; if (tmp &#x3D; insert(tr[k].rs, v)) &#123; if (tr[k].key &gt; tr[tr[k].rs].key) rotate_left(k); push_up(k); return tmp; &#125; else return 0; &#125; else &#123; if (tr[k].p.y &lt; v.y) return 0; tr[k].p.y &#x3D; v.y; tr[k].p.id &#x3D; v.id; return k; &#125; &#125; void remove(int &amp;k, long long x) &#123; if (!k) return; if (tr[k].p.x &#x3D;&#x3D; x) &#123; if (tr[k].ls &amp;&amp; tr[k].rs) &#123; if (tr[tr[k].ls].key &lt; tr[tr[k].rs].key) rotate_right(k), remove(tr[k].rs, x); else rotate_left(k), remove(tr[k].ls, x); &#125; else k &#x3D; tr[k].ls | tr[k].rs; &#125; else if (x &lt; tr[k].p.x) remove(tr[k].ls, x); else remove(tr[k].rs, x); push_up(k); &#125; int rank(long long x) &#123; int rnk &#x3D; 0, k &#x3D; root; while (k) &#123; if (x &lt;&#x3D; tr[k].p.x) k &#x3D; tr[k].ls; else rnk +&#x3D; tr[tr[k].ls].size + 1, k &#x3D; tr[k].rs; &#125; return rnk + 1; &#125; int value(int x) &#123; if (x &gt; tr[root].size || x &lt;&#x3D; 0) return -1; int k &#x3D; root; while (k) &#123; if (x &lt;&#x3D; tr[tr[k].ls].size) k &#x3D; tr[k].ls; else if (x &#x3D;&#x3D; tr[tr[k].ls].size + 1) return k; else x -&#x3D; tr[tr[k].ls].size + 1, k &#x3D; tr[k].rs; &#125; return -1; &#125; int prev(long long v) &#123; return value(rank(v) - 1); &#125; int next(long long v) &#123; return value(rank(v + 1)); &#125; void insert_hull(const Point &amp;point) &#123; int k &#x3D; insert(root, point); if (!k) return; int k1 &#x3D; prev(point.x); if (k1 !&#x3D; -1) &#123; while (tr[k1].lp &gt; point &#x2F; tr[k1].p) remove(root, tr[k1].p.x), k1 &#x3D; prev(tr[k1].p.x); tr[k].lp &#x3D; tr[k1].rp &#x3D; point &#x2F; tr[k1].p; &#125; else tr[k].lp &#x3D; -1e30; int k2 &#x3D; next(point.x); if (k2 !&#x3D; -1) &#123; while (point &#x2F; tr[k2].p &gt; tr[k2].rp) remove(root, tr[k2].p.x), k2 &#x3D; next(tr[k2].p.x); tr[k].rp &#x3D; tr[k2].lp &#x3D; tr[k2].p &#x2F; point; &#125; else tr[k].rp &#x3D; 1e30; if (tr[k].lp &gt; tr[k].rp) &#123; remove(root, tr[k].p.x); tr[k1].rp &#x3D; tr[k2].lp &#x3D; tr[k1].p &#x2F; tr[k2].p; &#125; &#125; int query_hull(long long slope) &#123; int k &#x3D; root; while (k) &#123; if (tr[k].lp &lt;&#x3D; slope &amp;&amp; slope &lt;&#x3D; tr[k].rp) return tr[k].p.id; else if (slope &lt; tr[k].lp) k &#x3D; tr[k].ls; else k &#x3D; tr[k].rs; &#125; return -1; &#125; &#125; treap; int n, w[100005], h[100005]; long long sum[100005], dp[100005]; long long min(long long a, long long b) &#123; return a &lt; b ? a : b; &#125; int main() &#123; scanf(&quot;%d&quot;, &amp;n); for (int i &#x3D; 1; i &lt;&#x3D; n; ++i) scanf(&quot;%d&quot;, h + i); for (int i &#x3D; 1; i &lt;&#x3D; n; ++i) scanf(&quot;%d&quot;, w + i), sum[i] &#x3D; sum[i - 1] + w[i]; memset(dp, 0x3f, sizeof dp); dp[1] &#x3D; 0; treap.new_node(Point(h[1], (long long) h[1] * h[1] - w[1], 1)); treap.root &#x3D; 1; treap.tr[1].lp &#x3D; -1e30; treap.tr[1].rp &#x3D; 1e30; for (int i &#x3D; 2; i &lt;&#x3D; n; ++i) &#123; int j &#x3D; treap.query_hull(h[i] &lt;&lt; 1); dp[i] &#x3D; min(dp[i], dp[j] + (long long) (h[i] - h[j]) * (h[i] - h[j]) + sum[i - 1] - sum[j]); treap.insert_hull(Point(h[i], dp[i] + (long long) h[i] * h[i] - sum[i], i)); &#125; printf(&quot;%lld&quot;, dp[n]); return 0; &#125; äºŒè¿›åˆ¶åˆ†ç»„æˆ‘ä»¬å°†æ‰€æœ‰çš„ç‚¹åˆ†æˆè‹¥å¹²ç»„ï¼Œç¬¬ $ i $ ç»„å¤§å°ä¸º $ 2^i $ ï¼Œæ˜¾ç„¶ç»„æ•°ä¸è¶…è¿‡ $ O(\\log n) $ ã€‚æˆ‘ä»¬ç»´æŠ¤æ¯ç»„çš„å‡¸åŒ…ã€‚ æ’å…¥ä¸€ä¸ªç‚¹æ—¶ï¼Œè‹¥æ²¡æœ‰ç¬¬0ç»„ï¼Œåˆ™å°†å®ƒä½œä¸ºç¬¬0ç»„ï¼Œå¦åˆ™å°†å®ƒå’Œç¬¬0ç»„åˆå¹¶ã€‚è¿™æ ·æˆ‘ä»¬å¾—åˆ°äº†ç¬¬1ç»„ã€‚æ¥ä¸‹æ¥å¦‚æœæœ‰ç¬¬1ç»„ï¼Œåˆ™å†å°†å®ƒä¸ç¬¬1ç»„åˆå¹¶å¾—åˆ°ç¬¬2ç»„â€¦â€¦ç±»ä¼¼äºŒè¿›åˆ¶+1çš„è¿‡ç¨‹ã€‚ æŸ¥è¯¢åœ¨æ¯ä¸€ç»„åˆ†åˆ«äºŒåˆ†ï¼Œå–æœ€å¤§å³å¯ã€‚ å…³äºæ—¶é—´å¤æ‚åº¦ï¼š æ˜¾ç„¶æ¯ä¸ªç‚¹æœ€å¤šè¢«åˆå¹¶ $ O(\\log â¡n) $ æ¬¡ã€‚æˆ‘ä»¬åˆå¹¶ä¸¤ä¸ªåŒ…å« $ O(n) $ ä¸ªèŠ‚ç‚¹çš„å‡¸åŒ…çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $ O(n) $ çš„ï¼Œæ•…å‡æ‘Šåˆ°æ¯ä¸ªç‚¹ä¸Šåˆå¹¶çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $ O(1) $ ï¼Œåˆå› ä¸ºå…±æœ‰ $ O(n) $ ä¸ªç‚¹ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ $ O(n\\logâ¡ n) $ ã€‚ ä»£ç #include &lt;string.h&gt; #include &lt;stdio.h&gt; #include &lt;vector&gt; int n, h[100005], w[100005]; long long dp[100005], sum[100005]; struct Point &#123; long long x, y; int id; Point(long long _x, long long _y, int _id): x(_x), y(_y), id(_id) &#123;&#125; double operator&#x2F; (const Point &amp;p) const &#123; return (double) (y - p.y) &#x2F; (x - p.x); &#125; &#125;; struct ConvexHull &#123; std::vector&lt;Point&gt; p; void merge(ConvexHull &amp;h) &#123; std::vector&lt;Point&gt; possible_conv; int i &#x3D; 0, j &#x3D; 0; while (i &lt; (int) p.size() &amp;&amp; j &lt; (int) h.p.size()) if (p[i].x &#x3D;&#x3D; h.p[j].x) &#123; if (p[i].y &lt; h.p[j].y) possible_conv.push_back(p[i]); else possible_conv.push_back(h.p[j]); ++i; ++j; &#125; else if (p[i].x &lt; h.p[j].x) possible_conv.push_back(p[i]), ++i; else possible_conv.push_back(h.p[j]), ++j; while (i &lt; (int) p.size()) possible_conv.push_back(p[i]), ++i; while (j &lt; (int) h.p.size()) possible_conv.push_back(h.p[j]), ++j; p.clear(); p.push_back(possible_conv[0]); int _size &#x3D; 0; for (int i &#x3D; 1; i &lt; (int) possible_conv.size(); ++i) &#123; while (_size &amp;&amp; p[_size] &#x2F; p[_size - 1] &gt; p[_size] &#x2F; possible_conv[i]) p.pop_back(), --_size; p.push_back(possible_conv[i]); ++_size; &#125; h.p.clear(); &#125; int query(long long k) &#123; int l &#x3D; 1, r &#x3D; p.size() - 1; while (l &lt;&#x3D; r) &#123; int mid &#x3D; (l + r) &gt;&gt; 1; if (p[mid] &#x2F; p[mid - 1] &gt; k) r &#x3D; mid - 1; else l &#x3D; mid + 1; &#125; return p[r].id; &#125; ConvexHull() &#123;&#125; ConvexHull(const Point &amp;P) &#123; p.push_back(P); &#125; &#125; conv[17]; long long min(long long a, long long b) &#123; return a &lt; b ? a : b; &#125; int main() &#123; scanf(&quot;%d&quot;, &amp;n); for (int i &#x3D; 1; i &lt;&#x3D; n; ++i) scanf(&quot;%d&quot;, h + i); for (int i &#x3D; 1; i &lt;&#x3D; n; ++i) scanf(&quot;%d&quot;, w + i), sum[i] &#x3D; sum[i - 1] + w[i]; memset(dp, 0x3f, sizeof dp); dp[1] &#x3D; 0; conv[0] &#x3D; ConvexHull(Point(h[1], (long long) h[1] * h[1] - w[1], 1)); for (int i &#x3D; 2; i &lt;&#x3D; n; ++i) &#123; for (int j &#x3D; 0; j &lt; 17; ++j) &#123; if (conv[j].p.empty()) continue; int k &#x3D; conv[j].query(h[i] &lt;&lt; 1); dp[i] &#x3D; min(dp[i], dp[k] + (long long) (h[i] - h[k]) * (h[i] - h[k]) + sum[i - 1] - sum[k]); &#125; ConvexHull cv(Point(h[i], dp[i] + (long long) h[i] * h[i] - sum[i], i)); for (int j &#x3D; 0; j &lt; 17; ++j) &#123; if (conv[j].p.empty()) &#123; conv[j].p &#x3D; cv.p; break; &#125; cv.merge(conv[j]); &#125; &#125; printf(&quot;%lld&quot;, dp[n]); return 0; &#125; æ€»ç»“åœ¨ $ dp $ çš„æœ€å°/æœ€å¤§åŒ–é—®é¢˜ä¸­ï¼Œå°†è½¬ç§»æ–¹ç¨‹åˆ†æˆå››éƒ¨åˆ†ï¼šä¸€éƒ¨åˆ†ä¸ $ i, j $ éƒ½æ— å…³ï¼Œä¸€éƒ¨åˆ†åªä¸ $ j $ æœ‰å…³ï¼Œä¸€éƒ¨åˆ†åªä¸ $ i $ æœ‰å…³ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†å’Œ $ i, j $ éƒ½æœ‰å…³ã€‚å¦‚æœå®ƒèƒ½å†™æˆ $ y=kx+b $ çš„å½¢å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå‡¸åŒ…ï¼Œæ¥è¿›è¡ŒçŠ¶æ€çš„è½¬ç§»ã€‚ æ€ä¹ˆæ ·ï¼Œä½ å­¦ä¼š(åºŸ)äº†å— ç»ƒä¹  æ­¤å¤„æ”¾å‡ºä½ è°·çš„é“¾æ¥ P4655 / loj 2483 Building Bridges P5017 / loj 3007 [NOIP2018 æ™®åŠç»„] æ‘†æ¸¡è½¦ P4027 / loj 2353 [NOI2007] è´§å¸å…‘æ¢ P3571 [POI2014] SUP-Supercomputer CF311B Cats Transport","categories":[{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"http://www.honahec.com/categories/%E6%95%99%E7%A8%8B/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://www.honahec.com/tags/C/"}]},{"title":"çŸ©é˜µ","slug":"ju-zhen","date":"2021-06-25T13:52:15.000Z","updated":"2021-09-17T12:45:11.494Z","comments":true,"path":"ju-zhen/","link":"","permalink":"http://www.honahec.com/ju-zhen/","excerpt":"","text":"çŸ©é˜µçŸ©é˜µ(Matrix)å®šä¹‰ä¸€ä¸ª $ n\\times m $ çš„çŸ©é˜µæ˜¯ä¸€ä¸ªç”± $ n $ è¡Œ $ m $ åˆ—å…ƒç´ æ’æˆçš„çŸ©å½¢é˜µåˆ—ã€‚çŸ©é˜µé‡Œçš„å…ƒç´ å¯ä»¥æ˜¯æ•°å­—ç¬¦å·æˆ–è€…æ•°å­¦å¼ã€‚ å½¢å¦‚ $ \\left(\\begin{matrix}a&amp;b\\\\c&amp;d\\end{matrix}\\right) $ çš„æ•°è¡¨ç§°ä¸ºäºŒé˜¶çŸ©é˜µï¼Œå®ƒç”±äºŒè¡ŒäºŒåˆ—ç»„æˆï¼Œå…¶ä¸­ $ a,b,c,d $ ç§°ä¸ºè¿™ä¸ªçŸ©é˜µçš„å…ƒç´ ã€‚ å½¢å¦‚ $ \\left(\\begin{matrix}x_1\\\\x_2\\end{matrix}\\right) $ çš„æœ‰åºå¯¹ç§°ä¸ºåˆ—å‘é‡(Column Vector) çŸ©é˜µåŠ æ³•çŸ©é˜µçš„åŠ æ³•éå¸¸ç®€å• å¯¹ï¼Œå°±æ˜¯ä½ æƒ³çš„é‚£æ · \\left( \\begin{matrix} a_{1,1}&a_{1,2}&\\cdots&a_{1,m}\\\\a_{2,1}&a_{2,1}&\\cdots&a_{2,m}\\\\\\vdots&\\vdots&&\\vdots\\\\a_{n,1}&a_{n,2}&\\cdots&a_{n,m} \\end{matrix} \\right)\\pm \\left( \\begin{matrix} b_{1,1}&b_{1,2}&\\cdots&b_{1,m}\\\\b_{2,1}&b_{2,1}&\\cdots&b_{2,m}\\\\\\vdots&\\vdots&&\\vdots\\\\b_{n,1}&b_{n,2}&\\cdots&b_{n,m} \\end{matrix} \\right)= \\left( \\begin{matrix} a_{1,1}\\pm b_{1,1}&a_{1,2}\\pm b_{1,2}&\\cdots&a_{1,m}\\pm b_{1,m}\\\\a_{2,1}\\pm b_{2,1}&a_{2,1}\\pm b_{2,2}&\\cdots&a_{2,m}\\pm b_{2, m}\\\\\\vdots&\\vdots&&\\vdots\\\\a_{n,1}\\pm b_{n,1}&a_{n,1}\\pm b_{n,2}&\\cdots&a_{n,m}\\pm b_{n,m} \\end{matrix} \\right)æ³¨æ„ï¼šä¸¤ä¸ªçŸ©é˜µå¿…é¡»ä¸ºåŒå‹çŸ©é˜µ(å³å¿…é¡»éƒ½æ˜¯ $ n\\times m $ çš„çŸ©é˜µ)æ‰èƒ½ç›¸åŠ  å¹¶ä¸”ï¼ŒçŸ©é˜µåŠ å‡æ³•æ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹(å³ $ A+B=B+A $ ï¼Œ $ (A+B)+C=A+(B+C) $ ) çŸ©é˜µä¹˜æ³•çŸ©é˜µä¹˜æ³•ç¨æœ‰ä¸åŒ å—¯ï¼ŒçœŸçš„åªæœ‰ä¸€ç‚¹ä¸åŒ å¦‚æœæœ‰çŸ©é˜µ $ A $ å¤§å°ä¸º $ n\\times m $ ï¼ŒçŸ©é˜µ $ B $ å¤§å°ä¸º $ m\\times s $ ï¼Œç›¸ä¹˜ä¸ºçŸ©é˜µ $ C $ ï¼ŒçŸ©é˜µ $ C $ çš„å¤§å°ä¸€å®šä¸º $ n\\times s $ çŸ©é˜µä¹˜æ³•éµå¾ª $ C=\\sum_{k=1}^{m}a_{i,k}b_{k,j} $ å—¯ï¼Œåªæœ‰ä¸€ç‚¹ ä¸¾ä¸ªä¾‹å­è®¾ \\begin{align} A&=\\left(\\begin{matrix}a&b\\\\c&d\\end{matrix}\\right)\\\\\\\\ B&=\\left(\\begin{matrix}x_1\\\\x_2\\end{matrix}\\right)\\\\ \\end{align}åˆ™ \\begin{align} C=AB&=\\left(\\begin{matrix}ax_1+bx_2\\\\cx_1+dx_2\\end{matrix}\\right)\\\\ \\end{align}ç§°ä¸ºäºŒé˜¶çŸ©é˜µ $ A $ ä¸å¹³é¢å‘é‡ $ B $ çš„ä¹˜ç§¯ï¼Œè®°ä¸º $ AB=C $ åˆ©ç”¨çŸ©é˜µæ±‚æ–æ³¢é‚£å¥‘(Fibonacci)æ•°åˆ—ä¼—æ‰€å‘¨çŸ¥ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—ä»ç¬¬ä¸‰é¡¹å¼€å§‹ï¼Œæ¯ä¸€é¡¹éƒ½æ˜¯å‰ä¸¤é¡¹ä¹‹å’Œ å³ $ F_n=F_{n-1}+F_{n-2},n\\geq3 $ ç‰¹åˆ«çš„ $ F_0=0,F_1=F_2=1 $ æŠŠæ–æ³¢é‚£å¥‘æ•°åˆ—ä¸­ç›¸é‚»çš„ä¸¤é¡¹( $ F_n $ å’Œ $ F_{n-1} $ )å†™æˆä¸€ä¸ª $ 2\\times1 $ çš„çŸ©é˜µ \\begin{align} &=\\left( \\begin{matrix} F_n\\\\ F_{n-1} \\end{matrix} \\right)\\\\\\\\ &=\\left( \\begin{matrix} F_{n-1}+F_{n-2}\\\\ F_{n-1} \\end{matrix} \\right)\\\\\\\\ &=\\left( \\begin{matrix} 1\\times F_{n-1}+1\\times F_{n-2}\\\\ 1\\times F_{n-1}+0\\times F_{n-2} \\end{matrix} \\right)\\\\\\\\ &=\\left( \\begin{matrix} 1&1\\\\ 1&0 \\end{matrix} \\right) \\times \\left( \\begin{matrix} F_{n-1}\\\\ F_{n-2} \\end{matrix} \\right)\\\\\\\\ &=\\left( \\begin{matrix} 1&1\\\\ 1&0 \\end{matrix} \\right)^{n-1} \\times \\left( \\begin{matrix} F_1\\\\ F_0 \\end{matrix} \\right)\\\\\\\\ &=\\left( \\begin{matrix} 1&1\\\\ 1&0 \\end{matrix} \\right)^{n-1} \\times \\left( \\begin{matrix} 1\\\\ 0 \\end{matrix} \\right) \\end{align}æ±‚ $ F_n $ ç­‰åŒäºæ±‚äºŒé˜¶çŸ©é˜µçš„ $ n-1 $ æ¬¡æ–¹ï¼Œç»“æœå–çŸ©é˜µç¬¬ä¸€è¡Œå…ƒç´ ã€‚ é—®é¢˜è½¬æ¢ä¸ºäºŒé˜¶çŸ©é˜µçš„ $ n $ æ¬¡å¹‚ æ±‚äºŒé˜¶çŸ©é˜µçš„ $ N $ æ¬¡å¹‚è¿™é‡Œå¯ä»¥å›é¡¾ä¸€ä¸‹çŸ©é˜µä¹˜æ³• å‡è®¾è®¡ç®—çŸ©é˜µ $ A $ çš„ $ N $ æ¬¡å¹‚ æ–¹æ³•ä¸€äºŒé˜¶çŸ©é˜µçš„ä¹˜æ³•æ»¡è¶³ç»“åˆå¾‹ è®¾ $ A,B,C $ éƒ½æ˜¯ä»»æ„çš„äºŒé˜¶çŸ©é˜µ åˆ™ $ A(BC)=(AB)C $ ä¸åœ¨æ­¤è¯æ˜ è®¾ $ n=N\\div 2 $ (ç»“æœå‘ä¸‹å–æ•´) è‹¥ $ N\\in 2k $ åˆ™ $ A^N=A^n\\times A^n $ è‹¥ $ N\\in 2k+1 $ åˆ™ $ A^N=A^n\\times A^n\\times A $ è¿™æ ·å¯ä»¥å‡å°‘è®¡ç®—æ¬¡æ•°ï¼Œè‡ªè¡Œæ€è€ƒåŸå›  æ–¹æ³•äºŒä»¥è®¡ç®— $ A^6 $ ä¸ºä¾‹ ä¾‹å¦‚ $ 6_{(10)}=110_{(2)} $ åˆ™ $ A^6=A^4\\times A^2 $ ä¸Šå›¾æ˜¾ç¤ºäºŒè¿›åˆ¶ä¸å¹‚çš„æŒ‡æ•°å…³ç³» äºŒè¿›ä½ä¸º1éœ€è¦ä¹˜ï¼Œä¸º0ä¸éœ€è¦ä¹˜ å†ä¾‹å¦‚ $ 7_{(10)}=111_{(2)} $ åˆ™ $ A^7=A^4\\times A^2\\times A^1 $ å…ˆéšéšä¾¿ä¾¿å†™ä¸€ä¸ªæ±‚å¿«é€Ÿå¹‚çš„ä»£ç (ç›¸ä¿¡å¤§å®¶éƒ½ä¼šå†™å§ int qpow(int a, int k) &#123; int res &#x3D; 1; while(k) &#123; if(a &amp; 1) res *&#x3D; a; k &gt;&gt;&#x3D; 1; a *&#x3D; a; &#125; return res; &#125; é‚£ä¹ˆåˆ°åº•æ€ä¹ˆç”¨çŸ©é˜µæ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—å‘¢ï¼Ÿ ä»£ç #include&lt;cstdio&gt; #include&lt;cstring&gt; struct Matrix &#123; long long fib[2][2]; Matrix() &#123;memset(fib, 0, sizeof fib);&#125; &#125;; Matrix qmul(Matrix &amp;a, Matrix &amp;b) &#123; Matrix c; for(int i &#x3D; 0; i &lt; 2; ++i) &#123; for(int j &#x3D; 0; j &lt; 2; ++j) &#123; for(int k &#x3D; 0; k &lt; 2; ++k) &#123; c.fib[i][j] +&#x3D; a.fib[i][k] * b.fib[k][j]; &#125; &#125; &#125; return c; &#125; Matrix qpow(Matrix a, long long k) &#123; Matrix ans; ans.fib[0][0] &#x3D; ans.fib[1][1] &#x3D; 1; while(k) &#123; if(k &amp; 1) ans &#x3D; qmul(ans, a); a &#x3D; qmul(a, a); k &gt;&gt;&#x3D; 1; &#125; return ans; &#125; int main() &#123; long long n; Matrix a, b; scanf(&quot;%lld&quot;, &amp;n); a.fib[0][0] &#x3D; a.fib[0][1] &#x3D; a.fib[1][0] &#x3D; 1; b &#x3D; qpow(a, n); printf(&quot;%lld\\n&quot;, b.fib[0][1]); return 0; &#125; ä½ å­¦ åºŸ ä¼šäº†å—","categories":[{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"http://www.honahec.com/categories/%E6%95%99%E7%A8%8B/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://www.honahec.com/tags/C/"}]},{"title":"æ‰“é¼¹é¼ ","slug":"da-yan-shu","date":"2021-06-25T13:51:07.000Z","updated":"2021-09-17T12:45:11.487Z","comments":true,"path":"da-yan-shu/","link":"","permalink":"http://www.honahec.com/da-yan-shu/","excerpt":"","text":"é¢˜ç›®é“¾æ¥P2285 æ‰“é¼¹é¼  æ€è·¯å¾ˆæ˜æ˜¾ï¼Œè¿™æ˜¯ä¸€é“ $ dp $ é¢˜ï¼Œå› ä¸ºæ ‡ç­¾å·²ç»å‘Šè¯‰æˆ‘ä»¬äº†ï¼ˆä¸æ˜¯ æ€ä¹ˆ $ dp $ å‘¢ï¼Ÿ æ£‹ç›˜ï¼Ÿä¸‰ç»´å¿…ç‚¸å•Šï¼ŒäºŒç»´æœ¬è’Ÿè’»ä¸ä¼š æ—¶é—´ï¼Ÿæ›´ç¦»è°±äº† æ‰€ä»¥å°±åªèƒ½ä»é¼¹é¼ ä¸‹æ‰‹äº† è®¾ $ dp_i $ ä¸ºåˆ°ç¬¬ $ i $ åªé¼¹é¼ æ—¶æœ€å¤šèƒ½æ‰“åˆ°å‡ åª å› ä¸ºæˆ‘ä»¬è¦å®ˆæ ªå¾…å…”ï¼ˆé¼ ï¼‰ï¼Œæ‰€ä»¥åˆå§‹åŒ– $ dp_i=1 $ è‹¥ä¸¤é¼¹é¼ ä¹‹é—´çš„æ›¼å“ˆé¡¿è·ç¦»å°äºå‡ºç°æ—¶é—´å·® æ­¤æ—¶è½¬ç§»æ–¹ç¨‹ä¸º $ dp_i=min(dp[i],dp[j]+1) $ ä»£ç #include&lt;cstdio&gt; #include&lt;cmath&gt; #define fo(i,x,y) for(register int i&#x3D;x;i&lt;&#x3D;y;++i) #define go(i,x,y) for(register int i&#x3D;x;i&gt;&#x3D;y;--i) #define INF 0x3f3f3f3f #define il inline #define ll long long #define ull unsigned long long using namespace std; const int N &#x3D; 1005, M &#x3D; 10005; int n, m, dp[M], ans; struct NODE &#123; int time, x, y; &#125;node[M]; il int max(const int &amp;a, const int &amp;b) &#123;return a &gt; b ? a : b;&#125; int main() &#123; scanf(&quot;%d%d&quot;, &amp;n, &amp;m); fo(i, 1, m) scanf(&quot;%d%d%d&quot;, &amp;node[i].time, &amp;node[i].x, &amp;node[i].y), dp[i] &#x3D; 1; fo(i, 1, m) &#123; fo(j, 1, i - 1) &#123; if(abs(node[i].x - node[j].x) + abs(node[i].y - node[j].y) &lt;&#x3D; abs(node[i].time - node[j].time)) &#123; dp[i] &#x3D; max(dp[i], dp[j] + 1); &#125; &#125; &#125; fo(i, 1, m) ans &#x3D; max(ans, dp[i]); printf(&quot;%d\\n&quot;, ans); return 0; &#125;","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"http://www.honahec.com/categories/%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://www.honahec.com/tags/C/"}]},{"title":"Radio Contact G","slug":"radio-contact-g","date":"2021-06-25T13:50:26.000Z","updated":"2021-09-17T12:45:11.484Z","comments":true,"path":"radio-contact-g/","link":"","permalink":"http://www.honahec.com/radio-contact-g/","excerpt":"","text":"é¢˜ç›®é“¾æ¥P3133 Radio Contact G æ€è·¯ $ dp $ é¢˜ è®¾ $ dp_{i,j} $ ä¸ºFarmer Johnèµ°åˆ°ç¬¬iæ­¥ï¼ŒBessieèµ°åˆ°ç¬¬jæ­¥éœ€è¦çš„æœ€å°èƒ½é‡ å¾ˆå®¹æ˜“å¾—åˆ°è½¬ç§»æ–¹ç¨‹ $ f_{i,j}=min(f_{i-1,j},f_{i,j-1},f_{i-1,j-1})+dist $ å…¶ä¸­ $ dist $ ä¸ºFarmer Johnåœ¨ç¬¬iæ­¥ï¼ŒBessieåœ¨ç¬¬jæ­¥æ—¶ä»–ä»¬æ¬§å‡ é‡Œå¾—è·ç¦»çš„å¹³æ–¹ å³ $ (x_1-x_2)^2-(y_1-y_2)^2 $ æ³¨æ„ä¸€ä¸‹åˆå§‹åŒ–ï¼šf[i][0] &#x3D; f[i - 1][0] + dist; f[0][i] &#x3D; f[i - 1][0] + dist; f[0][0] &#x3D; 0; &#x2F;&#x2F;åˆå§‹ä½ç½®ä¸æ¶ˆè€—èƒ½é‡ ç„¶åè¿™é“é¢˜å°±æ„‰å¿«çš„ACäº† ä»£ç #include&lt;cstdio&gt; #include&lt;cstring&gt; #define fo(i,x,y) for(register int i&#x3D;x;i&lt;&#x3D;y;++i) #define go(i,x,y) for(register int i&#x3D;x;i&gt;&#x3D;y;--i) #define INF 0x3f3f3f3f #define il inline #define ll long long #define ull unsigned long long using namespace std; const int N &#x3D; 1005; int n, m, fx, fy, bx, by; char fs[N], bs[N]; int f[N][N]; il int min(const int &amp;a, const int &amp;b) &#123;return a &lt; b ? a : b;&#125; il void move(int &amp;x, int &amp;y, const char &amp;t) &#123; switch(t) &#123; case &#39;N&#39;: ++y; break; case &#39;S&#39;: --y; break; case &#39;E&#39;: ++x; break; case &#39;W&#39;: --x; break; &#125; &#125; il int dist(const int &amp;x1, const int &amp;y1, const int &amp;x2, const int &amp;y2) &#123; return (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2); &#125; int main() &#123; scanf(&quot;%d%d%d%d%d%d%s%s&quot;, &amp;n, &amp;m, &amp;fx, &amp;fy, &amp;bx, &amp;by, fs + 1, bs + 1); int lenf &#x3D; strlen(fs + 1), lenb &#x3D; strlen(bs + 1); int tx1 &#x3D; fx, ty1 &#x3D; fy, tx2 &#x3D; bx, ty2 &#x3D; by; fo(i, 1, lenf) &#123; move(tx1, ty1, fs[i]); f[i][0] &#x3D; f[i - 1][0] + dist(tx1, ty1, bx, by); &#125; fo(i, 1, lenb) &#123; move(tx2, ty2, bs[i]); f[0][i] &#x3D; f[0][i - 1] + dist(fx, fy, tx2, ty2); &#125;&#x2F;&#x2F;åˆå§‹åŒ– tx1 &#x3D; fx, ty1 &#x3D; fy; fo(i, 1, lenf) &#123; tx2 &#x3D; bx, ty2 &#x3D; by; move(tx1, ty1, fs[i]); fo(j, 1, lenb) &#123; move(tx2, ty2, bs[j]); f[i][j] &#x3D; min(f[i - 1][j], min(f[i][j - 1], f[i - 1][j - 1])) + dist(tx1, ty1, tx2, ty2); &#125; &#125; printf(&quot;%lld\\n&quot;, f[lenf][lenb]); return 0; &#125;","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"http://www.honahec.com/categories/%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://www.honahec.com/tags/C/"}]},{"title":"æœ‰ç†æ•°å–ä½™","slug":"you-li-shu-qu-yu","date":"2021-06-25T13:49:03.000Z","updated":"2021-09-17T12:45:11.492Z","comments":true,"path":"you-li-shu-qu-yu/","link":"","permalink":"http://www.honahec.com/you-li-shu-qu-yu/","excerpt":"","text":"é¢˜ç›®æè¿°P2613 ã€æ¨¡æ¿ã€‘æœ‰ç†æ•°å–ä½™ é¢˜ç›®éå¸¸ç®€å•æ˜“æ‡‚ç»™å‡ºä¸€ä¸ªæœ‰ç†æ•° $ c=\\frac{a}{b} $ï¼Œæ±‚ $ c\\bmod19260817 $ çš„å€¼ã€‚ æ€è·¯çœ‹åˆ°è¿™é“é¢˜æ—¶ ç¬¬ä¸€çœ¼ï¼šå¥½åƒå¾ˆç®€å•å•Š ç¬¬äºŒçœ¼ï¼š$ a,b\\leq10^{10001} $ï¼Ÿï¼ï¼ ç¬¬ä¸‰çœ¼ï¼šå§æ§½è¿™å•¥ç©æ„ï¼Ÿï¼ï¼ è¦åšè¿™é“é¢˜ï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸ªæ–°çš„ä¸œè¥¿ï¼ˆä¸»è¦æ˜¯æœ¬è’Ÿè’»ä¸ä¼šexgcdï¼ˆæ¬§å‡ é‡Œå¾—æ‰©å±•ï¼‰ é€†å…ƒ P æ˜¯ä¸€ä¸ªè´¨æ•° ä»¤ $ bâ€™ $ ä¸º $ b $ çš„é€†å…ƒï¼Œé‚£ä¹ˆæœ‰$ b\\times bâ€™\\equiv1\\,(mod\\,P) $ æœ‰ $ \\frac{a}{b}\\equiv\\frac{a}{b}\\times1\\equiv\\frac{a}{b}\\times(b\\times bâ€™)\\equiv a\\times bâ€™\\,(mod\\,P) $ æ˜¾ç„¶å¯ä»¥çœ‹å‡º $ bâ€™ $ çš„å€¼ä¸º $ \\frac{1}{b} $ ä½†æ˜¯é™¤ä»¥ $ b $ ä¸ä¹˜ä»¥ $ \\frac{1}{b} $ æ˜¯ä¸€æ ·çš„å•Šï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ è´¹é©¬å°å®šç†é—ªäº®ç™»åœºå®šç†å†…å®¹ï¼šå¦‚æœ $ p$ æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œè€Œæ•´æ•° $ a$ ä¸æ˜¯ $ p$ çš„å€æ•°ï¼Œåˆ™æœ‰$ a^{p-1}\\equiv1\\,(mod\\,p) $ è¯æ˜ä½ å¯ä»¥é€‰æ‹©è·³è¿‡è¿™éƒ¨åˆ† è¯æ˜éƒ¨åˆ† $ p $ æ˜¯ä¸€ä¸ªè´¨æ•° ç¬¬ä¸€ä¸ªè¯æ˜é¦–å…ˆæˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªå‰ç½®å®šç†ï¼š è‹¥$ gcd(c,p)=1 $ï¼Œä¸”$ ac\\equiv bc\\,(mod\\,p) $ï¼Œé‚£ä¹ˆæœ‰$ a\\equiv b\\,(mod\\,p) $ è¯ï¼š \\begin{align} &\\because ac\\equiv bc\\,(mod\\,p)\\\\ &\\therefore (a-b)c\\equiv 0\\,(mod\\,p)\\\\ &\\therefore (a-b)c\\,æ˜¯\\,p\\,çš„æ•´æ•°å€\\\\ åˆ&\\because gcd(c,p)=1\\\\ &\\therefore a-b\\equiv0\\,(mod\\,p)\\\\ &å³a\\equiv b\\,(mod\\,p) \\end{align}è¯æ¯• ç¬¬äºŒä¸ªè¯æ˜ç„¶åæˆ‘ä»¬è¿›å…¥æ­£é¢˜ï¼Œå‡è®¾æœ‰æ­£æ•´æ•°$ a(a&lt;p) $ æ»¡è¶³æ¡ä»¶$ gcd(a,p)=1 $ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°† $ a $ ä¹˜ä¸Š $ 1\\thicksim p-1 $ åå¯ä»¥æ„æˆä¸€ä¸ª $ mod\\,p $ çš„å®Œå…¨å‰©ä½™ç³» è¯ï¼š \\begin{align} &å‡è®¾å­˜åœ¨xa\\equiv ya\\,(mod\\,p),ä¸”x\\neq y\\\\ &\\because gcd(a,p)=1\\\\ &\\therefore åŸå¼æˆç«‹å½“ä¸”ä»…å½“x\\equiv y\\,(mod\\,p)\\\\ åˆ&\\because x,y\\in [1,p-1]\\\\ &\\therefore x\\equiv y\\,(mod\\,p)å½“ä¸”ä»…å½“x=y,ä¸å·²çŸ¥æ¡ä»¶çŸ›ç›¾\\\\ &\\therefore å‡è®¾ä¸æˆç«‹ï¼ŒåŸå‘½é¢˜æˆç«‹ \\end{align}è¯æ¯• ç¬¬ä¸‰ä¸ªè¯æ˜æ¥ä¸‹æ¥è¯æ˜ $ a^{p-1}\\equiv1\\,(mod\\,p) $ è¯ï¼š \\begin{align} &\\because 1,2,\\cdots,p-1æ˜¯\\,mod\\,p\\,çš„å®Œå…¨å‰©ä½™ç³»\\\\ &\\thereforeæœ‰1\\times2\\times\\cdots\\times p-1\\equiv a\\times2a\\times\\cdots\\times (p-1)a\\,(mod\\,p)\\\\ &å³ (p-1)!\\equiv (p-1)!\\times a^{p-1}\\,(mod\\,p)\\\\ åˆ&\\because pæ˜¯è´¨æ•°\\\\ &\\therefore gcd((p-1)!,p)=1\\\\ &\\therefore a^{p-1}\\equiv1\\,(mod\\,p) \\end{align}è¯æ¯• å›å½’æ­£é¢˜æ ¹æ®è´¹é©¬å°å®šç†ï¼Œæ˜¾ç„¶ $ bâ€™=b^{P-2} $ ä»€ä¹ˆï¼Ÿä¸æ˜¾ç„¶å—ï¼Ÿ \\begin{align} \\because b'\\times b&\\equiv1\\,(mod\\,P)\\\\ b^{P-1}&\\equiv1\\,(mod\\,P)\\\\ \\therefore b'\\times b&\\equiv b^{P-1}\\,(mod\\,P)\\\\ \\therefore b'&=b^{P-2} \\end{align}é‚£ä¹ˆ $ \\frac{a}{b}=a\\times b^{P-2} $ ç„¶åæˆ‘ä»¬å°±å¯ä»¥ç”¨å¿«é€Ÿå¹‚è½»æ¾Aæ‰è¿™é¢˜äº†ï¼ˆ$ ps$ ï¼šè™½ç„¶å¿«é€Ÿå¹‚è®©æˆ‘ä»¬ä¸éœ€è¦é«˜ç²¾äº†ï¼Œä½†long longè¿˜æ˜¯è¦çš„ ä»£ç #include&lt;cstdio&gt; const int MOD &#x3D; 19260817; inline long long read() &#123; long long X &#x3D; 0, flag &#x3D; 1; char ch &#x3D; getchar(); while(ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) &#123;if(ch &#x3D;&#x3D; &#39;-&#39;) flag &#x3D; 0; ch&#x3D;getchar();&#125; while(ch &gt;&#x3D; &#39;0&#39; &amp;&amp; ch &lt;&#x3D; &#39;9&#39;) &#123;X &#x3D; (X * 10 + (ch ^ 48)) % MOD; ch &#x3D; getchar();&#125; return flag ? X : -X; &#125; long long a, b; long long QuickPow(long long x, long long y) &#123; long long ans &#x3D; 1, k &#x3D; MOD - 2; while(k) &#123; if(k &amp; 1) ans &#x3D; ans * x % MOD; x &#x3D; x * x % MOD; k &gt;&gt;&#x3D; 1; &#125; return ans * y % MOD; &#125;&#x2F;&#x2F;å¿«é€Ÿå¹‚ä¸å»ºè®®è¿™æ ·å†™ï¼Œè¿˜æ˜¯ç”¨æ¨¡æ¿æ¯”è¾ƒå¥½ int main() &#123; a &#x3D; read(); b &#x3D; read(); if(b) printf(&quot;%lld\\n&quot;, QuickPow(b, a)); else printf(&quot;Angry!\\n&quot;); return 0; &#125;","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"http://www.honahec.com/categories/%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://www.honahec.com/tags/C/"}]},{"title":"Hello World","slug":"hello-world","date":"2021-06-25T13:38:19.000Z","updated":"2021-09-19T07:20:34.480Z","comments":true,"path":"hello-world/","link":"","permalink":"http://www.honahec.com/hello-world/","excerpt":"","text":"Hello å¤§å®¶å¥½å•Šæˆ‘æ˜¯Honahecï¼Œä¸€ä¸ªè’Ÿè’» ç›®å‰è¿™ä¸ªåšå®¢ä»åœ¨å»ºè®¾ä¸­ï¼Œå¦‚æœæ‚¨æœ‰ä»»ä½•æƒ³æ³•éƒ½å¯ä»¥åœ¨ä¸Šæ–¹çš„ç•™è¨€æ¿ä¸­ç•™è¨€æˆ–è€…æ·»åŠ æˆ‘çš„QQï¼Œæˆ‘ä¼šåŠæ—¶å›å¤å¹¶é‡‡çº³éƒ¨åˆ†å»ºè®® å¦‚æœæ‚¨ä¹Ÿæƒ³è¦å»ºè®¾ä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢ä¹Ÿå¯ä»¥è”ç³»æˆ‘ è°¢è°¢å¤§å®¶ #include&lt;cstdio&gt; int main() &#123; printf(&quot;Hello World!\\n&quot;); return 114514; &#x2F;&#x2F;:) &#125;","categories":[{"name":"éšä¾¿è¯´è¯´","slug":"éšä¾¿è¯´è¯´","permalink":"http://www.honahec.com/categories/%E9%9A%8F%E4%BE%BF%E8%AF%B4%E8%AF%B4/"}],"tags":[{"name":"æ‘¸é±¼","slug":"æ‘¸é±¼","permalink":"http://www.honahec.com/tags/%E6%91%B8%E9%B1%BC/"}]}],"categories":[{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://www.honahec.com/categories/%E6%AF%94%E8%B5%9B/"},{"name":"éšä¾¿è¯´è¯´","slug":"éšä¾¿è¯´è¯´","permalink":"http://www.honahec.com/categories/%E9%9A%8F%E4%BE%BF%E8%AF%B4%E8%AF%B4/"},{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"http://www.honahec.com/categories/%E6%95%99%E7%A8%8B/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"http://www.honahec.com/categories/%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://www.honahec.com/tags/%E6%B8%B8%E8%AE%B0/"},{"name":"æ‘¸é±¼","slug":"æ‘¸é±¼","permalink":"http://www.honahec.com/tags/%E6%91%B8%E9%B1%BC/"},{"name":"C++","slug":"C","permalink":"http://www.honahec.com/tags/C/"}]}